#:kivy 2.1.0
<LoginScreen>:

    canvas.before:
        Color:
            rgba: 237/255, 231/255, 217/255, 1
        Rectangle:
            size: self.size
            pos: self.pos

    pwd_field: pwd_input

    AnchorLayout:
        anchor_x: "center"
        anchor_y: "center"

        BoxLayout:
            orientation: "vertical"
            padding: dp(30)
            spacing: dp(12)
            size_hint: None, None
            width: min(dp(360), root.width * 0.9)
            height: self.minimum_height

            Label:
                text: "Personal Safe"
                font_size: "40sp"
                color: 0, 0, 0, 1
                bold: True
                size_hint_y: None
                height: dp(75)

            CustomTextInput:
                color: 0, 0, 0, 1
                id: pwd_input
                hint_text: "Master password"
                password: True
                multiline: False
                on_text_validate: 
                    root.verify_2fa_and_login() if root.twofa_needed else root.on_submit()
                on_focus: self.hint_text = '' if self.focus else ('Master password' if not self.text else self.hint_text)
                size_hint_y: None
                height: dp(44)
                halign: "center"
                padding_y: dp(12)

            CustomButton:
                text: "Login"
                size_hint_y: None
                height: dp(44)
                on_release:
                    root.verify_2fa_and_login() if root.twofa_needed else root.on_submit()

            CustomButton:
                id: forgot_btn
                text: "Forgot password?"
                size_hint_y: None
                height: dp(44)
                on_release: root.forgot_password()

            Label:
                text: root.error_text
                color: (1,0,0,1)
                font_size: "14sp"
                size_hint_y: None
                height: dp(24)