#:kivy 2.3.0

<CreateMasterScreen>:
    canvas.before:
        Color:
            rgba: 237/255, 231/255, 217/255, 1
        Rectangle:
            size: self.size
            pos: self.pos

    pwd1_field: pwd1_input
    pwd2_field: pwd2_input
    email_field: email_input

    BoxLayout:
        orientation: 'vertical'

        HeaderBox:
            Label:
                text: "Create Master Password"
                font_size: "24sp"
                size_hint_x: 0.7
                bold: True

        # Error / info line
        Label:
            text: root.error_text
            color: 1, 0, 0, 1
            size_hint_y: None
            height: dp(24)

        AnchorLayout:
            anchor_x: "center"
            anchor_y: "center"

            BoxLayout:
                orientation: "vertical"
                padding: dp(16)
                spacing: dp(12)
                size_hint: None, None
                width: min(dp(520), root.width * 0.95)
                height: self.minimum_height

                # PWD1 Row
                BoxLayout:
                    orientation: "horizontal"
                    size_hint_y: None
                    height: dp(44)
                    spacing: dp(2)
                        
                    Label:
                        color: 75/255, 66/255, 55/255, 1
                        text: "Password:"
                        size_hint_x: None
                        width: dp(90)
                        halign: "center"
                        valign: "middle"
                        text_size: self.size
                    CustomTextInput:
                        id: pwd1_input
                        hint_text: "Master Password"
                        password: True
                        halign: "center"
                        multiline: False
                        padding_y: (self.height - self.font_size) / 2

                # PWD2 Row
                BoxLayout:
                    orientation: "horizontal"
                    size_hint_y: None
                    height: dp(44)
                    spacing: dp(2)
                    Label:
                        color: 75/255, 66/255, 55/255, 1
                        text: "Confirm Password:"
                        size_hint_x: None
                        width: dp(90)
                        halign: "center"
                        valign: "middle"
                        text_size: self.size
                    CustomTextInput:
                        id: pwd2_input
                        hint_text: "Confirm Password"
                        password: True
                        halign: "center"
                        multiline: False
                        padding_y: (self.height - self.font_size) / 2
                #recovery email row
                BoxLayout:
                    orientation: "horizontal"
                    size_hint_y: None
                    height: dp(44)
                    spacing: dp(2)
                    Label:
                        color: 75/255, 66/255, 55/255, 1
                        text: "Recovery Email:"
                        size_hint_x: None
                        width: dp(90)
                        halign: "center"
                        valign: "middle"
                        text_size: self.size
                    CustomTextInput:
                        id: email_input
                        hint_text: "Recovery email"
                        multiline: False
                        padding_y: (self.height - self.font_size) / 2
                # Confirm row
                BoxLayout:
                    orientation: "horizontal"
                    size_hint_y: None
                    height: dp(44)
                    spacing: dp(8)
                    CustomButton:
                        text: "Back"
                        size_hint_x: None
                        width: dp(120)
                        on_release: root.goto_home()
                    Widget:
                    CustomButton:
                        text: "Save"
                        size_hint_x: None
                        width: dp(120)
                        on_release: root.do_create()
